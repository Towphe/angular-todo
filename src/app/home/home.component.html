<main class="w-screen py-4">
    <h1 class="text-3xl text-center font-bold">TodoList</h1>
    <form class="mx-auto w-4/5 px-4 py-6 bg-gray-200 shadow-md mt-6 rounded-lg" [formGroup]="taskForm" (submit)="addTask()">
        <label class="block">Task name</label>
        <input class="block w-full indent-2 py-0.5" type="text" formControlName="name" placeholder="Study Angular!" />
        <label class="block mt-2">Due</label>
        <input class="block w-full text-center py-0.5" type="datetime-local" formControlName="due" />
        <button class="bg-green-500 w-full mt-4 py-1 text-slate-100 font-bold rounded-md hover:opacity-75" type="submit">Add</button>
    </form>
    <div class="mt-6 w-4/5 mx-auto">
        <!-- filter -->
        <select class="block py-2 text-xl w-full indent-4 rounded-md shadow-sm" [(ngModel)]="filter" (change)="selectFilter()">
            <option *ngFor="let f of filterOptions" [ngValue]="f.toLowerCase()">{{f}}</option>
        </select>
    </div>
    <div class="flex flex-col items-center w-4/5 sm:w-1/2 md:w-1/3 px-4 mx-auto py-2 mt-6 gap-3">
        <!-- results container -->
        <app-task-card (onStatusChange)="reloadData()" class="w-full" *ngFor="let task of tasks" [task]="task"></app-task-card>
    </div>
    <div class="flex justify-center gap-2 mt-6 text-md font-light">
        <!-- pagination -->
        @for (page of totalPages; track $index) {
            <a class="block" href="?p={{page+1}}">{{page + 1}}</a>
        }
    </div>
</main>
